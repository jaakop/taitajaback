(this["webpackJsonptaitaja-front"]=this["webpackJsonptaitaja-front"]||[]).push([[0],{11:function(e){e.exports=JSON.parse('{"PcAmount":25,"MacAmount":19,"ChromeAmount":12,"PcUsage":0.03,"MacUsage":0.03,"ChromeUsage":0.01,"Rooms":{"NormalSetup":[{"RoomNumber":11,"ComputerType":"PC","Amount":5,"Abitti":true},{"RoomNumber":12,"ComputerType":"Mac","Amount":7,"Abitti":false},{"RoomNumber":13,"ComputerType":"Chrome","Amount":4,"Abitti":false},{"RoomNumber":14,"ComputerType":"PC","Amount":3,"Abitti":true},{"RoomNumber":15,"ComputerType":"PC","Amount":2,"Abitti":true},{"RoomNumber":16,"ComputerType":"Mac","Amount":3,"Abitti":false},{"RoomNumber":17,"ComputerType":"Mac","Amount":3,"Abitti":false},{"RoomNumber":18,"ComputerType":"Chrome","Amount":4,"Abitti":false},{"RoomNumber":23,"ComputerType":"PC","Amount":5,"Abitti":true},{"RoomNumber":24,"ComputerType":"Chrome","Amount":4,"Abitti":false},{"RoomNumber":25,"ComputerType":"Mac","Amount":3,"Abitti":false},{"RoomNumber":26,"ComputerType":"PC","Amount":5,"Abitti":true},{"RoomNumber":27,"ComputerType":"Mac","Amount":3,"Abitti":false},{"RoomNumber":28,"ComputerType":"PC","Amount":5,"Abitti":true}],"AiSetup":[{"RoomNumber":11,"ComputerType":"Chrome","Amount":2,"Abitti":false},{"RoomNumber":12,"ComputerType":"Mac","Amount":4,"Abitti":false},{"RoomNumber":13,"ComputerType":"Chrome","Amount":2,"Abitti":false},{"RoomNumber":14,"ComputerType":"Mac","Amount":3,"Abitti":false},{"RoomNumber":15,"ComputerType":"PC","Amount":20,"Abitti":true},{"RoomNumber":16,"ComputerType":"Mac","Amount":3,"Abitti":false},{"RoomNumber":17,"ComputerType":"Mac","Amount":3,"Abitti":false},{"RoomNumber":18,"ComputerType":"Chrome","Amount":2,"Abitti":false},{"RoomNumber":23,"ComputerType":"Chrome","Amount":2,"Abitti":false},{"RoomNumber":24,"ComputerType":"Chrome","Amount":2,"Abitti":false},{"RoomNumber":25,"ComputerType":"Mac","Amount":3,"Abitti":false},{"RoomNumber":26,"ComputerType":"Chrome","Amount":2,"Abitti":false},{"RoomNumber":27,"ComputerType":"Mac","Amount":3,"Abitti":false},{"RoomNumber":28,"ComputerType":"PC","Amount":5,"Abitti":true}]}}')},116:function(e,t,a){e.exports=a.p+"static/media/logoWhite.7844cf80.svg"},120:function(e,t,a){e.exports=a(287)},124:function(e,t,a){},20:function(e){e.exports=JSON.parse('{"domain":"https://taitajajaakko.azurewebsites.net/api/","login":"login","checkToken":"checktoken"}')},287:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(64),m=a.n(r),o=(a(124),a(45)),c=a(19),u=a(5),i=a.n(u),s=a(14),p=a(15),b=a(17),E=a(16),h=a(3),k=a(18),d=a(24),N=a.n(d),y=a(32);var C=function(){return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.awrap(N.a.get("https://public.bc.fi/katta/taitaja2020/paneeli.xml").then((function(e){return(new DOMParser).parseFromString(e.data,"text/xml")})));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))},f=a(11),R=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(b.a)(this,Object(E.a)(t).call(this,e))).state={panels:[]},a.GetData=a.GetData.bind(Object(h.a)(a)),a.GetData(),a}return Object(k.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.state.panels,t=[];if(e.length>0)for(var a=f.PcAmount*f.PcUsage*6+f.MacAmount*f.MacUsage*6+f.ChromeAmount*f.ChromeUsage*6,n=1;n<3;n++){for(var r=0,m=0,o=100,c=0,u=0;u<e.length;u++)r+=parseInt(e[u].getElementsByTagName("tuotanto_"+n)[0].innerHTML),m+=parseInt(e[u].getElementsByTagName("paiste_"+n)[0].innerHTML);m/=e.length,r<a&&(c=100-(o=Math.round(r/a*100))),t.push(l.a.createElement("table",{className:"solarTable",align:"center"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:5},"P\xe4iv\xe4m\xe4\xe4r\xe4 ",e[0].getElementsByTagName("pvm_"+n)[0].innerHTML,", paistetta keskim\xe4\xe4rin ",m," tuntia/paneeli")),l.a.createElement("tr",null,l.a.createElement("td",null,"Paneelit 1-",e.length),l.a.createElement("td",null,"Tuotanto kWh"),l.a.createElement("td",null,"Tietokoneiden  kulutus kWh"),l.a.createElement("td",null,"Aurinkovoiman kattama %-osuus"),l.a.createElement("td",null,"Verkkovirran %-osuus")),l.a.createElement("tr",null,l.a.createElement("td",null,"Yhteens\xe4"),l.a.createElement("td",null,r),l.a.createElement("td",null,a),l.a.createElement("td",null,o),l.a.createElement("td",null,c)))))}return l.a.createElement("div",{className:"solar contentBox"},l.a.createElement("h2",null,"Aurinkopaneelien tuotanto"),l.a.createElement("div",null,t))}},{key:"GetData",value:function(){var e;return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.awrap(C());case 2:e=t.sent,this.setState({panels:e.getElementsByTagName("paneeli")});case 4:case"end":return t.stop()}}),null,this)}}]),t}(l.a.Component),A=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(b.a)(this,Object(E.a)(t).call(this,e))).state={optimized:!1,floor:1},a.GetRoomByNumber=a.GetRoomByNumber.bind(Object(h.a)(a)),a.RenderAFloor=a.RenderAFloor.bind(Object(h.a)(a)),a.UpdateFloor=a.UpdateFloor.bind(Object(h.a)(a)),a}return Object(k.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=!1,a=!1,n=l.a.createElement("button",{onClick:function(t){return e.setState({optimized:!0})}},"Optimoi");return 1===this.state.floor&&(t=!0),2===this.state.floor&&(a=!0),this.state.optimized&&(n=l.a.createElement("button",{onClick:function(t){return e.setState({optimized:!1})}},"Palauta")),l.a.createElement("div",{className:"comOp contentBox"},l.a.createElement("h2",null,"Luokkien tietokoneet"),l.a.createElement("div",null,l.a.createElement("button",{onClick:function(t){return e.UpdateFloor(t,-1)},disabled:t},"<"),this.RenderAFloor(this.state.floor),l.a.createElement("button",{onClick:function(t){return e.UpdateFloor(t,1)},disabled:a},">")),l.a.createElement("br",null),n)}},{key:"UpdateFloor",value:function(e,t){this.setState({floor:this.state.floor+t})}},{key:"GetRoomByNumber",value:function(e){var t=f.Rooms.NormalSetup,a=null;return this.state.optimized&&(t=f.Rooms.AiSetup),t.map((function(t){t.RoomNumber!=e||(a=t)})),a}},{key:"RenderAFloor",value:function(e){var t;return 1===e?t=l.a.createElement("table",{className:"computerTable"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{className:this.GetRoomByNumber(15).ComputerType,rowSpan:2},"15 ",l.a.createElement("br",null)," ",this.GetRoomByNumber(15).ComputerType,l.a.createElement("br",null),this.GetRoomByNumber(15).Amount," kpl"),l.a.createElement("td",{className:this.GetRoomByNumber(14).ComputerType},"14 ",l.a.createElement("br",null)," ",this.GetRoomByNumber(14).ComputerType,l.a.createElement("br",null),this.GetRoomByNumber(14).Amount," kpl"),l.a.createElement("td",{className:this.GetRoomByNumber(13).ComputerType},"13 ",l.a.createElement("br",null)," ",this.GetRoomByNumber(13).ComputerType,l.a.createElement("br",null),this.GetRoomByNumber(13).Amount," kpl"),l.a.createElement("td",{className:this.GetRoomByNumber(12).ComputerType},"12 ",l.a.createElement("br",null)," ",this.GetRoomByNumber(12).ComputerType,l.a.createElement("br",null),this.GetRoomByNumber(12).Amount," kpl"),l.a.createElement("td",{className:this.GetRoomByNumber(11).ComputerType},"11 ",l.a.createElement("br",null)," ",this.GetRoomByNumber(11).ComputerType,l.a.createElement("br",null),this.GetRoomByNumber(11).Amount," kpl")),l.a.createElement("tr",null,l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null)),l.a.createElement("tr",null,l.a.createElement("td",{className:this.GetRoomByNumber(16).ComputerType,rowSpan:2},"16 ",l.a.createElement("br",null)," ",this.GetRoomByNumber(16).ComputerType,l.a.createElement("br",null),this.GetRoomByNumber(16).Amount," kpl"),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null)),l.a.createElement("tr",null,l.a.createElement("td",{className:this.GetRoomByNumber(17).ComputerType},"17 ",l.a.createElement("br",null)," ",this.GetRoomByNumber(17).ComputerType,l.a.createElement("br",null),this.GetRoomByNumber(17).Amount," kpl"),l.a.createElement("td",{className:this.GetRoomByNumber(18).ComputerType},"18 ",l.a.createElement("br",null)," ",this.GetRoomByNumber(18).ComputerType,l.a.createElement("br",null),this.GetRoomByNumber(18).Amount," kpl"),l.a.createElement("td",null),l.a.createElement("td",null)))):2===e&&(t=l.a.createElement("table",{className:"computerTable"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{className:this.GetRoomByNumber(25).ComputerType,rowSpan:2},"25 ",l.a.createElement("br",null)," ",this.GetRoomByNumber(25).ComputerType,l.a.createElement("br",null),this.GetRoomByNumber(25).Amount," kpl"),l.a.createElement("td",{className:this.GetRoomByNumber(24).ComputerType},"24 ",l.a.createElement("br",null)," ",this.GetRoomByNumber(24).ComputerType,l.a.createElement("br",null),this.GetRoomByNumber(24).Amount," kpl"),l.a.createElement("td",{className:this.GetRoomByNumber(23).ComputerType},"23 ",l.a.createElement("br",null)," ",this.GetRoomByNumber(23).ComputerType,l.a.createElement("br",null),this.GetRoomByNumber(23).Amount," kpl"),l.a.createElement("td",null),l.a.createElement("td",null)),l.a.createElement("tr",null,l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null)),l.a.createElement("tr",null,l.a.createElement("td",{className:this.GetRoomByNumber(26).ComputerType,rowSpan:2},"26 ",l.a.createElement("br",null)," ",this.GetRoomByNumber(26).ComputerType,l.a.createElement("br",null),this.GetRoomByNumber(26).Amount," kpl"),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null)),l.a.createElement("tr",null,l.a.createElement("td",{className:this.GetRoomByNumber(27).ComputerType},"27 ",l.a.createElement("br",null)," ",this.GetRoomByNumber(27).ComputerType,l.a.createElement("br",null),this.GetRoomByNumber(27).Amount," kpl"),l.a.createElement("td",{className:this.GetRoomByNumber(28).ComputerType},"28 ",l.a.createElement("br",null)," ",this.GetRoomByNumber(28).ComputerType,l.a.createElement("br",null),this.GetRoomByNumber(28).Amount," kpl"),l.a.createElement("td",null),l.a.createElement("td",null))))),t}}]),t}(l.a.Component),T=function(){return l.a.createElement("div",{className:"footer"},l.a.createElement("div",{className:"languageMenu"},l.a.createElement("a",{className:"link"},l.a.createElement("b",null,"FI")),"|",l.a.createElement("a",{className:"link"},"SE"),"|",l.a.createElement("a",{className:"link"},"EN")),l.a.createElement("div",{className:"linkCollection"},l.a.createElement("h3",null,"Link collection 1"),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 1")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 2")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 3")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 4")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 5")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 6")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 7")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 8"))),l.a.createElement("div",{className:"linkCollection"},l.a.createElement("h3",null,"Link collection 2"),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 1")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 2")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 3")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 4")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 5")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 6")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 7")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 8"))),l.a.createElement("div",{className:"linkCollection"},l.a.createElement("h3",null,"Link collection 3"),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 1")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 2")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 3")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 4")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 5")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 6")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 7")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 8"))))},v=a(20),g=(a(76),a(142),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(b.a)(this,Object(E.a)(t).call(this,e))).state={loginRedirect:!1,cookieChecked:!1},a.CheckCookie=a.CheckCookie.bind(Object(h.a)(a)),a}return Object(k.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.CheckCookie()}},{key:"render",value:function(){var e;return this.state.loginRedirect&&(e=l.a.createElement(c.a,{to:"/login"})),this.state.cookieChecked?l.a.createElement("div",{className:"main"},e,l.a.createElement("div",{className:"header"},l.a.createElement("img",{src:a(116),width:300}),l.a.createElement("br",null),l.a.createElement("div",{className:"info"},"Tietoja",l.a.createElement("div",{className:"megaMenu"},l.a.createElement("a",{className:"link"}," Link 1 "),l.a.createElement("a",{className:"link"}," Link 2 "),l.a.createElement("a",{className:"link"}," Link 3 "),l.a.createElement("a",{className:"link"}," Link 4 "),l.a.createElement("a",{className:"link"}," Link 5 "),l.a.createElement("a",{className:"link"}," Link 6 ")))),l.a.createElement("div",null,l.a.createElement(R,null),l.a.createElement(A,null)),l.a.createElement(T,null)):l.a.createElement("div",null,e)}},{key:"CheckCookie",value:function(){var e,t,a=this;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e=new y.a,n.prev=1,t=e.get("loginToken"),n.next=9;break;case 5:return n.prev=5,n.t0=n.catch(1),this.setState({loginRedirect:!0}),n.abrupt("return");case 9:if(t){n.next=12;break}return this.setState({loginRedirect:!0}),n.abrupt("return");case 12:return n.next=14,i.a.awrap(N.a.post(v.domain+v.checkToken,{token:t}).then((function(e){200!==e.status?a.setState({loginRedirect:!0}):a.setState({cookieChecked:!0})})).catch((function(){console.log("ree"),a.setState({loginRedirect:!0})})));case 14:case"end":return n.stop()}}),null,this,[[1,5]])}}]),t}(l.a.Component)),B=a(119),G=(a(282),a(285),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(b.a)(this,Object(E.a)(t).call(this,e))).state={username:"",password:"",loginFailed:!1,redirect:!1,loading:!1,loginRedirect:!1,cookieChecked:!1},a.HandleChange=a.HandleChange.bind(Object(h.a)(a)),a.Submit=a.Submit.bind(Object(h.a)(a)),a.CheckCookie=a.CheckCookie.bind(Object(h.a)(a)),a}return Object(k.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.CheckCookie()}},{key:"render",value:function(){var e,t,n;return this.state.loginFailed&&(e=l.a.createElement("p",null,"V\xe4\xe4r\xe4 k\xe4ytt\xe4j\xe4nimi tai salasana")),(this.state.redirect||this.state.loginRedirect)&&(t=l.a.createElement(c.a,{to:"/"})),n=l.a.createElement("input",{type:"Submit",value:"Kirjaudu sis\xe4\xe4n",disabled:this.state.loading}),this.state.cookieChecked?l.a.createElement("div",null,t,l.a.createElement("div",{className:"header"},l.a.createElement("img",{src:a(116),width:300})),l.a.createElement("div",{className:"login"},l.a.createElement("form",{onSubmit:this.Submit},e,l.a.createElement("input",{type:"text",placeholder:"K\xe4ytt\xe4j\xe4nimi",value:this.state.username,name:"username",onChange:this.HandleChange}),l.a.createElement("br",null),l.a.createElement("input",{type:"password",placeholder:"Salasana",value:this.state.password,name:"password",onChange:this.HandleChange}),l.a.createElement("br",null),n)),l.a.createElement(T,null)):l.a.createElement("div",null,t)}},{key:"HandleChange",value:function(e){this.setState(Object(B.a)({},e.target.name,e.target.value))}},{key:"Submit",value:function(e){var t,a=this;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e.preventDefault(),this.setState({loading:!0}),t=new y.a,N.a.post(v.domain+v.login,{username:this.state.username,password:this.state.password}).then((function(e){200===e.status?(t.set("loginToken",e.data.token,{path:"/"}),a.setState({redirect:!0,loading:!1})):a.setState({loginFailed:!0,loading:!1})})).catch((function(){a.setState({loginFailed:!0,loading:!1})}));case 4:case"end":return n.stop()}}),null,this)}},{key:"CheckCookie",value:function(){var e,t,a=this;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e=new y.a,n.prev=1,t=e.get("loginToken"),n.next=9;break;case 5:return n.prev=5,n.t0=n.catch(1),this.setState({cookieChecked:!0}),n.abrupt("return");case 9:if(t){n.next=12;break}return this.setState({cookieChecked:!0}),n.abrupt("return");case 12:return n.next=14,i.a.awrap(N.a.post(v.domain+v.checkToken,{token:t}).then((function(e){200!==e.status?a.setState({cookieChecked:!0}):a.setState({loginRedirect:!0})})).catch((function(){a.setState({cookieChecked:!0})})));case 14:case"end":return n.stop()}}),null,this,[[1,5]])}}]),t}(l.a.Component)),S=function(){return l.a.createElement(o.a,null,l.a.createElement(c.b,{exact:!0,path:"/",component:g}),l.a.createElement(c.b,{path:"/login",component:G}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));m.a.render(l.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},76:function(e,t,a){}},[[120,1,2]]]);
//# sourceMappingURL=main.079b48dd.chunk.js.map