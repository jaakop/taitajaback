(this["webpackJsonptaitaja-front"]=this["webpackJsonptaitaja-front"]||[]).push([[0],{133:function(e,t,a){e.exports=a.p+"static/media/logoWhite.7844cf80.svg"},150:function(e,t,a){e.exports=a(318)},154:function(e,t,a){},22:function(e){e.exports=JSON.parse('{"PcAmount":25,"MacAmount":19,"ChromeAmount":12,"PcUsage":0.03,"MacUsage":0.03,"ChromeUsage":0.01,"Rooms":{"NormalSetup":[{"RoomNumber":11,"ComputerType":"PC","Amount":5,"Abitti":true},{"RoomNumber":12,"ComputerType":"Mac","Amount":7,"Abitti":false},{"RoomNumber":13,"ComputerType":"Chrome","Amount":4,"Abitti":false},{"RoomNumber":14,"ComputerType":"PC","Amount":3,"Abitti":true},{"RoomNumber":15,"ComputerType":"PC","Amount":2,"Abitti":true},{"RoomNumber":16,"ComputerType":"Mac","Amount":3,"Abitti":false},{"RoomNumber":17,"ComputerType":"Mac","Amount":3,"Abitti":false},{"RoomNumber":18,"ComputerType":"Chrome","Amount":4,"Abitti":false},{"RoomNumber":23,"ComputerType":"PC","Amount":5,"Abitti":true},{"RoomNumber":24,"ComputerType":"Chrome","Amount":4,"Abitti":false},{"RoomNumber":25,"ComputerType":"Mac","Amount":3,"Abitti":false},{"RoomNumber":26,"ComputerType":"PC","Amount":5,"Abitti":true},{"RoomNumber":27,"ComputerType":"Mac","Amount":3,"Abitti":false},{"RoomNumber":28,"ComputerType":"PC","Amount":5,"Abitti":true}],"AiSetup":[{"RoomNumber":11,"ComputerType":"Chrome","Amount":2,"Abitti":false},{"RoomNumber":12,"ComputerType":"Mac","Amount":4,"Abitti":false},{"RoomNumber":13,"ComputerType":"Chrome","Amount":2,"Abitti":false},{"RoomNumber":14,"ComputerType":"Mac","Amount":3,"Abitti":false},{"RoomNumber":15,"ComputerType":"PC","Amount":20,"Abitti":true},{"RoomNumber":16,"ComputerType":"Mac","Amount":3,"Abitti":false},{"RoomNumber":17,"ComputerType":"Mac","Amount":3,"Abitti":false},{"RoomNumber":18,"ComputerType":"Chrome","Amount":2,"Abitti":false},{"RoomNumber":23,"ComputerType":"Chrome","Amount":2,"Abitti":false},{"RoomNumber":24,"ComputerType":"Chrome","Amount":2,"Abitti":false},{"RoomNumber":25,"ComputerType":"Mac","Amount":3,"Abitti":false},{"RoomNumber":26,"ComputerType":"Chrome","Amount":2,"Abitti":false},{"RoomNumber":27,"ComputerType":"Mac","Amount":3,"Abitti":false},{"RoomNumber":28,"ComputerType":"PC","Amount":5,"Abitti":true}]}}')},312:function(e,t,a){},318:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(36),o=a.n(r),m=(a(154),a(58)),c=a(31),i=a(139),u=a(346),s=a(13),p=a.n(s),b=a(134),E=a(25),h=a(16),k=a(26),d=a(27),y=a(6),N=a(30),C=a(38),g=a.n(C),f=a(45),R=a(5),T=a(347),A=a(343),v=a(338),B=a(339),G=a(342),w=a(336),O=a(337),j=a(340),S=a(341);var L=function(){return p.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.awrap(g.a.get("https://public.bc.fi/katta/taitaja2020/paneeli.xml").then((function(e){return(new DOMParser).parseFromString(e.data,"text/xml")})));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))},x=a(22),M=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(k.a)(this,Object(d.a)(t).call(this,e))).state={panels:[]},a.GeStyledTableCellata=a.GeStyledTableCellata.bind(Object(y.a)(a)),a.GeStyledTableCellata(),a}return Object(N.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=Object(R.a)((function(e){return{head:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},body:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText}}}))(w.a),t=this.state.panels,a=[];if(t.length>0)for(var n=x.PcAmount*x.PcUsage*6+x.MacAmount*x.MacUsage*6+x.ChromeAmount*x.ChromeUsage*6,r=1;r<3;r++){for(var o=0,m=0,c=100,i=0,u=0;u<t.length;u++)o+=parseInt(t[u].getElementsByTagName("tuotanto_"+r)[0].innerHTML),m+=parseInt(t[u].getElementsByTagName("paiste_"+r)[0].innerHTML);m/=t.length,o<n&&(i=100-(c=Math.round(o/n*100))),a.push(l.a.createElement(O.a,{component:v.a,className:"marginTop marginBottom"},l.a.createElement(B.a,null,l.a.createElement(j.a,null,l.a.createElement(S.a,null,l.a.createElement(e,{style:{maxWidth:"100%"},colSpan:5},"P\xe4iv\xe4m\xe4\xe4r\xe4 ",t[0].getElementsByTagName("pvm_"+r)[0].innerHTML,", paistetta keskim\xe4\xe4rin ",m," tuntia/paneeli"))),l.a.createElement(G.a,null,l.a.createElement(S.a,null,l.a.createElement(e,null,"Paneelit 1-",t.length),l.a.createElement(e,null,"Tuotanto kWh"),l.a.createElement(e,null,"Tietokoneiden  kulutus kWh"),l.a.createElement(e,null,"Aurinkovoiman kattama %-osuus"),l.a.createElement(e,null,"Verkkovirran %-osuus")),l.a.createElement(S.a,null,l.a.createElement(e,null,"Yhteens\xe4"),l.a.createElement(e,null,o),l.a.createElement(e,null,n),l.a.createElement(e,null,c),l.a.createElement(e,null,i))))))}return l.a.createElement(A.a,{fixed:!0},l.a.createElement(T.a,{color:"primary.contrastText",component:"h2",display:"inline",className:"paddingTop paddingBottom paddingLeft paddingRight"},"Aurinkopaneelien tuotanto"),l.a.createElement(A.a,null,a))}},{key:"GeStyledTableCellata",value:function(){var e;return p.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.awrap(L());case 2:e=t.sent,this.setState({panels:e.getElementsByTagName("paneeli")});case 4:case"end":return t.stop()}}),null,this)}}]),t}(l.a.Component),F=a(348),P=a(345),U=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(k.a)(this,Object(d.a)(t).call(this,e))).state={optimized:!1,floor:1},a.GetRoomByNumber=a.GetRoomByNumber.bind(Object(y.a)(a)),a.RenderAFloor=a.RenderAFloor.bind(Object(y.a)(a)),a.UpdateFloor=a.UpdateFloor.bind(Object(y.a)(a)),a}return Object(N.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=!1,a=!1,n=l.a.createElement(F.a,{color:"primary",size:"large",variant:"contained",onClick:function(t){return e.setState({optimized:!0})}},"Optimoi");return 1===this.state.floor&&(t=!0),2===this.state.floor&&(a=!0),this.state.optimized&&(n=l.a.createElement(F.a,{color:"primary",variant:"contained",size:"large",onClick:function(t){return e.setState({optimized:!1})}},"Palauta")),l.a.createElement(A.a,{fixed:!0,className:"marginBottom"},l.a.createElement(P.a,{container:!0,direction:"column",spacing:4,alignItems:"center",justify:"center"},l.a.createElement(T.a,{color:"primary.contrastText",component:"h2",display:"inline",className:"paddingTop paddingBottom paddingLeft paddingRight"},"Luokkien tietokoneet"),l.a.createElement(O.a,{style:{overflowY:"hidden",maxWidth:500},component:v.a,align:"center",elevation:3},l.a.createElement(B.a,null,l.a.createElement(G.a,null,this.RenderAFloor(this.state.floor)))),l.a.createElement(P.a,{container:!0,direction:"row",spacing:3,alignItems:"center",justify:"center",style:{marginTop:15}},l.a.createElement(F.a,{style:{width:"100%",maxWidth:250},color:"primary",variant:"contained",size:"large",onClick:function(t){return e.UpdateFloor(t,-1)},disabled:t},"<"),l.a.createElement(F.a,{style:{width:"100%",maxWidth:250},color:"primary",variant:"contained",size:"large",onClick:function(t){return e.UpdateFloor(t,1)},disabled:a},">")),l.a.createElement("br",null),n))}},{key:"UpdateFloor",value:function(e,t){this.setState({floor:this.state.floor+t})}},{key:"GetRoomByNumber",value:function(e){var t=x.Rooms.NormalSetup,a=null;return this.state.optimized&&(t=x.Rooms.AiSetup),t.map((function(t){t.RoomNumber!=e||(a=t)})),a}},{key:"RenderAFloor",value:function(e){var t=[];return 1===e?(t.push(l.a.createElement(S.a,{className:"comOpRow"},l.a.createElement(w.a,{align:"center",className:this.GetRoomByNumber(15).ComputerType,rowSpan:2},"15 ",l.a.createElement("br",null)," ",this.GetRoomByNumber(15).ComputerType,l.a.createElement("br",null),this.GetRoomByNumber(15).Amount," kpl"),l.a.createElement(w.a,{align:"center",className:this.GetRoomByNumber(14).ComputerType},"14 ",l.a.createElement("br",null)," ",this.GetRoomByNumber(14).ComputerType,l.a.createElement("br",null),this.GetRoomByNumber(14).Amount," kpl"),l.a.createElement(w.a,{align:"center",className:this.GetRoomByNumber(13).ComputerType},"13 ",l.a.createElement("br",null)," ",this.GetRoomByNumber(13).ComputerType,l.a.createElement("br",null),this.GetRoomByNumber(13).Amount," kpl"),l.a.createElement(w.a,{align:"center",className:this.GetRoomByNumber(12).ComputerType},"12 ",l.a.createElement("br",null)," ",this.GetRoomByNumber(12).ComputerType,l.a.createElement("br",null),this.GetRoomByNumber(12).Amount," kpl"),l.a.createElement(w.a,{align:"center",className:this.GetRoomByNumber(11).ComputerType},"11 ",l.a.createElement("br",null)," ",this.GetRoomByNumber(11).ComputerType,l.a.createElement("br",null),this.GetRoomByNumber(11).Amount," kpl"))),t.push(l.a.createElement(S.a,{className:"comOpRow"},l.a.createElement(w.a,null),l.a.createElement(w.a,null),l.a.createElement(w.a,null),l.a.createElement(w.a,null))),t.push(l.a.createElement(S.a,{className:"comOpRow"},l.a.createElement(w.a,{align:"center",className:this.GetRoomByNumber(16).ComputerType,rowSpan:2},"16 ",l.a.createElement("br",null)," ",this.GetRoomByNumber(16).ComputerType,l.a.createElement("br",null),this.GetRoomByNumber(16).Amount," kpl"),l.a.createElement(w.a,null),l.a.createElement(w.a,null),l.a.createElement(w.a,null),l.a.createElement(w.a,null))),t.push(l.a.createElement(S.a,{className:"comOpRow"},l.a.createElement(w.a,{align:"center",className:this.GetRoomByNumber(17).ComputerType},"17 ",l.a.createElement("br",null)," ",this.GetRoomByNumber(17).ComputerType,l.a.createElement("br",null),this.GetRoomByNumber(17).Amount," kpl"),l.a.createElement(w.a,{align:"center",className:this.GetRoomByNumber(18).ComputerType},"18 ",l.a.createElement("br",null)," ",this.GetRoomByNumber(18).ComputerType,l.a.createElement("br",null),this.GetRoomByNumber(18).Amount," kpl"),l.a.createElement(w.a,null),l.a.createElement(w.a,null)))):2===e&&(t.push(l.a.createElement(S.a,{className:"comOpRow"},l.a.createElement(w.a,{align:"center",className:this.GetRoomByNumber(25).ComputerType,rowSpan:2},"25 ",l.a.createElement("br",null)," ",this.GetRoomByNumber(25).ComputerType,l.a.createElement("br",null),this.GetRoomByNumber(25).Amount," kpl"),l.a.createElement(w.a,{align:"center",className:this.GetRoomByNumber(24).ComputerType},"24 ",l.a.createElement("br",null)," ",this.GetRoomByNumber(24).ComputerType,l.a.createElement("br",null),this.GetRoomByNumber(24).Amount," kpl"),l.a.createElement(w.a,{align:"center",className:this.GetRoomByNumber(23).ComputerType},"23 ",l.a.createElement("br",null)," ",this.GetRoomByNumber(23).ComputerType,l.a.createElement("br",null),this.GetRoomByNumber(23).Amount," kpl"),l.a.createElement(w.a,null),l.a.createElement(w.a,null))),t.push(l.a.createElement(S.a,{className:"comOpRow"},l.a.createElement(w.a,null),l.a.createElement(w.a,null),l.a.createElement(w.a,null),l.a.createElement(w.a,null))),t.push(l.a.createElement(S.a,{className:"comOpRow"},l.a.createElement(w.a,{align:"center",className:this.GetRoomByNumber(26).ComputerType,rowSpan:2},"26 ",l.a.createElement("br",null)," ",this.GetRoomByNumber(26).ComputerType,l.a.createElement("br",null),this.GetRoomByNumber(26).Amount," kpl"),l.a.createElement(w.a,null),l.a.createElement(w.a,null),l.a.createElement(w.a,null),l.a.createElement(w.a,null))),t.push(l.a.createElement(S.a,{className:"comOpRow"},l.a.createElement(w.a,{align:"center",className:this.GetRoomByNumber(27).ComputerType},"27 ",l.a.createElement("br",null)," ",this.GetRoomByNumber(27).ComputerType,l.a.createElement("br",null),this.GetRoomByNumber(27).Amount," kpl"),l.a.createElement(w.a,{align:"center",className:this.GetRoomByNumber(28).ComputerType},"28 ",l.a.createElement("br",null)," ",this.GetRoomByNumber(28).ComputerType,l.a.createElement("br",null),this.GetRoomByNumber(28).Amount," kpl"),l.a.createElement(w.a,null),l.a.createElement(w.a,null)))),t}}]),t}(l.a.Component),z=function(){return l.a.createElement("div",{className:"footer"},l.a.createElement("div",{className:"languageMenu"},l.a.createElement("a",{className:"link"},l.a.createElement("b",null,"FI")),"|",l.a.createElement("a",{className:"link"},"SE"),"|",l.a.createElement("a",{className:"link"},"EN")),l.a.createElement("div",{className:"linkCollection"},l.a.createElement("h3",null,"Link collection 1"),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 1")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 2")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 3")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 4")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 5")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 6")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 7")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 8"))),l.a.createElement("div",{className:"linkCollection"},l.a.createElement("h3",null,"Link collection 2"),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 1")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 2")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 3")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 4")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 5")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 6")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 7")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 8"))),l.a.createElement("div",{className:"linkCollection"},l.a.createElement("h3",null,"Link collection 3"),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 1")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 2")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 3")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 4")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 5")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 6")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 7")),l.a.createElement("p",null,l.a.createElement("a",{className:"link"},"Link 8"))))},W=a(344),D=a(32);a(175);function H(){var e=Object(b.a)(["\n            background-color: ","\n        "]);return H=function(){return e},e}var I=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(k.a)(this,Object(d.a)(t).call(this,e))).state={loginRedirect:!1,cookieChecked:!1},a.CheckCookie=a.CheckCookie.bind(Object(y.a)(a)),a}return Object(N.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.CheckCookie()}},{key:"render",value:function(){var e,t=this,n=Object(W.a)(v.a)(H(),(function(e){return t.props.theme.palette.secondary.main}));return this.state.loginRedirect&&(e=l.a.createElement(c.a,{to:"/login"})),this.state.cookieChecked?l.a.createElement("div",{className:"main"},e,l.a.createElement("div",{className:"header"},l.a.createElement("img",{src:a(133),width:300}),l.a.createElement("br",null),l.a.createElement("div",{className:"info"},"Tietoja",l.a.createElement("div",{className:"megaMenu"},l.a.createElement("a",{className:"link"}," Link 1 "),l.a.createElement("a",{className:"link"}," Link 2 "),l.a.createElement("a",{className:"link"}," Link 3 "),l.a.createElement("a",{className:"link"}," Link 4 "),l.a.createElement("a",{className:"link"}," Link 5 "),l.a.createElement("a",{className:"link"}," Link 6 ")))),l.a.createElement("div",null,l.a.createElement(n,{component:T.a,display:"block",className:"content",bgcolor:"secondary.main",border:5,borderColor:"secondary.contrastText",borderRadius:25},l.a.createElement(M,null)),l.a.createElement(n,{component:T.a,display:"block",className:"content",bgcolor:"secondary.main",border:5,borderColor:"secondary.contrastText",borderRadius:25},l.a.createElement(U,null))),l.a.createElement(z,null)):l.a.createElement("div",null,e)}},{key:"CheckCookie",value:function(){var e,t,a=this;return p.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e=new f.a,n.prev=1,t=e.get("loginToken"),n.next=9;break;case 5:return n.prev=5,n.t0=n.catch(1),this.setState({loginRedirect:!0}),n.abrupt("return");case 9:if(t){n.next=12;break}return this.setState({loginRedirect:!0}),n.abrupt("return");case 12:return n.next=14,p.a.awrap(g.a.post(D.domain+D.checkToken,{token:t}).then((function(e){200!==e.status?a.setState({loginRedirect:!0}):a.setState({cookieChecked:!0})})).catch((function(){console.log("ree"),a.setState({loginRedirect:!0})})));case 14:case"end":return n.stop()}}),null,this,[[1,5]])}}]),t}(l.a.Component),J=a(8),_=(a(312),a(313),a(316),function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(k.a)(this,Object(d.a)(t).call(this,e))).state={username:"",password:"",loginFailed:!1,redirect:!1,loading:!1,loginRedirect:!1,cookieChecked:!1},a.HandleChange=a.HandleChange.bind(Object(y.a)(a)),a.Submit=a.Submit.bind(Object(y.a)(a)),a.CheckCookie=a.CheckCookie.bind(Object(y.a)(a)),a}return Object(N.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.CheckCookie()}},{key:"render",value:function(){var e,t,n;return this.state.loginFailed&&(e=l.a.createElement("p",null,"V\xe4\xe4r\xe4 k\xe4ytt\xe4j\xe4nimi tai salasana")),(this.state.redirect||this.state.loginRedirect)&&(t=l.a.createElement(c.a,{to:"/"})),n=l.a.createElement("input",{type:"Submit",value:"Kirjaudu sis\xe4\xe4n",disabled:this.state.loading}),this.state.cookieChecked?l.a.createElement("div",null,t,l.a.createElement("div",{className:"header"},l.a.createElement("img",{src:a(133),width:300})),l.a.createElement("div",{className:"login"},l.a.createElement("form",{onSubmit:this.Submit},e,l.a.createElement("input",{type:"text",placeholder:"K\xe4ytt\xe4j\xe4nimi",value:this.state.username,name:"username",onChange:this.HandleChange}),l.a.createElement("br",null),l.a.createElement("input",{type:"password",placeholder:"Salasana",value:this.state.password,name:"password",onChange:this.HandleChange}),l.a.createElement("br",null),n)),l.a.createElement(z,null)):l.a.createElement("div",null,t)}},{key:"HandleChange",value:function(e){this.setState(Object(J.a)({},e.target.name,e.target.value))}},{key:"Submit",value:function(e){var t,a=this;return p.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e.preventDefault(),this.setState({loading:!0}),t=new f.a,g.a.post(D.domain+D.login,{username:this.state.username,password:this.state.password}).then((function(e){200===e.status?(t.set("loginToken",e.data.token,{path:"/"}),a.setState({redirect:!0,loading:!1})):a.setState({loginFailed:!0,loading:!1})})).catch((function(){a.setState({loginFailed:!0,loading:!1})}));case 4:case"end":return n.stop()}}),null,this)}},{key:"CheckCookie",value:function(){var e,t,a=this;return p.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e=new f.a,n.prev=1,t=e.get("loginToken"),n.next=9;break;case 5:return n.prev=5,n.t0=n.catch(1),this.setState({cookieChecked:!0}),n.abrupt("return");case 9:if(t){n.next=12;break}return this.setState({cookieChecked:!0}),n.abrupt("return");case 12:return n.next=14,p.a.awrap(g.a.post(D.domain+D.checkToken,{token:t}).then((function(e){200!==e.status?a.setState({cookieChecked:!0}):a.setState({loginRedirect:!0})})).catch((function(){a.setState({cookieChecked:!0})})));case 14:case"end":return n.stop()}}),null,this,[[1,5]])}}]),t}(l.a.Component)),K=function(){var e=Object(i.a)({typography:{fontFamily:"Segoe UI"},palette:{primary:{main:"#3A405A",contrastText:"#F9DEC9"},secondary:{main:"#99B2DD",contrastText:"#F9DEC9"}}});return l.a.createElement(u.a,{theme:e},l.a.createElement(u.a,{theme:e},l.a.createElement(m.a,null,l.a.createElement(c.b,{exact:!0,path:"/",component:I}),l.a.createElement(c.b,{path:"/login",component:_}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},32:function(e){e.exports=JSON.parse('{"domain":"https://taitajajaakko.azurewebsites.net/api/","login":"login","checkToken":"checktoken"}')}},[[150,1,2]]]);
//# sourceMappingURL=main.98c6f0be.chunk.js.map